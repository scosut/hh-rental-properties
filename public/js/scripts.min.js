function typeWriter(e,t,a,n){e<0?setTimeout(typeWriter.bind(this,e+1,t,a,n),1750):e<t.length&&(n.innerHTML+=10===t.charCodeAt(e)?"<br>":t.charAt(e),e++,setTimeout(typeWriter.bind(this,e,t,a,n),a))}function timepicker(e,t){for(var a=t.min;a<=t.max;a++){var n,r,o=a>12?a-12:a,i=a>=12?"pm":"am";o=o.toString().length<2?"&nbsp;"+o.toString():o.toString();for(var l=0;l<60&&(r=o+":"+(n=(n=l%60).toString().length<2?"0"+n.toString():n.toString())+" "+i,e.append('<option value="'+r.replace("&nbsp;","")+'">'+r+"</option>"),a!==t.max);l+=t.step);}}$(function(){$("#navbarToggler").click(function(e){e.preventDefault(),$("#navbarTogglerContent").slideToggle(1e3)}),$("#navbarRentDropdown").click(function(e){e.preventDefault(),$("#navbarAdminDropdownContent").slideUp(500),$("#navbarRentDropdownContent").slideToggle(500)}),$("#navbarAdminDropdown").click(function(e){e.preventDefault(),$("#navbarRentDropdownContent").slideUp(500),$("#navbarAdminDropdownContent").slideToggle(500)}),$(document).click(function(e){return $(e.target).closest("#navbarRentDropdownContent").length>0?(location.href=e.target.href,!1):($("#navbarRentDropdownContent").slideUp(500),$(e.target).closest("#navbarAdminDropdownContent").length>0?(location.href=e.target.href,!1):void $("#navbarAdminDropdownContent").slideUp(500))});var e=document.getElementById("hero-text");e?$("body").css("display","flex").hide().fadeIn(2e3,typeWriter(-1,"Rent your next home\nin beautiful Sioux Falls today!",100,e)):$("body").css("display","flex").hide().fadeIn(2e3);var t=$(".page-link");if(t.length){var a=$("[class*='pagenum-']"),n=$("[class*='pagenum-1']"),r=t[0],o=t[1],i=t[t.length-1];a.hide(),n.show(),$(r).parent().addClass("disabled"),$(o).parent().addClass("active"),$(t).click(function(e){e.preventDefault();var o=$(e.currentTarget).attr("data-page"),l=Number($(".page-item.active").children().attr("data-page"));o="next"===o?l+1:"back"===o?l-1:o,n=$("[class*='pagenum-"+o+"']"),o=Number(o),t.parent().removeClass("active disabled"),$(t[o]).parent().addClass("active"),a.hide(),n.fadeIn(2e3),1===o?$(r).parent().addClass("disabled"):o===t.length-2&&$(i).parent().addClass("disabled")})}function l(e,t,a){var n=$("#"+a+" :input[type='file']"),r=new FormData;r.append("data",t),n.each(function(e,t){$(t.files).each(function(e,a){r.append(t.name,a)})}),window.scrollTo(0,0),$(".loading-overlay").addClass("loading-overlay-on"),$.ajax({method:"post",processData:!1,contentType:!1,cache:!1,data:r,enctype:"multipart/form-data",url:e}).done(function(e){setTimeout(function(){$(".loading-overlay").removeClass("loading-overlay-on");var t=JSON.parse(e);t.succeeded?t.redirect.length>0?location.href=t.redirect:(p(a),$("#"+a+"Modal").modal("hide"),$("#"+a+" :input").val("")):s(t,a)},400)}).fail(function(e){$(".loading-overlay").removeClass("loading-overlay-on")})}function d(e,t){var a={},n={};return $(e).each(function(e,n){a[$(n).attr("id")]=$(n).serializeArray().filter(function(e){var a=!!t||e.value.length>0;return"hdnFormId"!=e.name&&"hdnCoapp"!=e.name&&a})}),Object.keys(a).forEach(function(e){n[e]={},a[e].forEach(function(t){var a=t.name.replace(/\[\]/g,"");n[e][a]=n[e].hasOwnProperty(a)?n[e][a]+","+t.value:t.value})}),JSON.stringify(n)}function p(e){var t=$("#"+e+" label"),a=$("#"+e+" :input"),n=$("#"+e+" .invalid-feedback");t.removeClass("form-control is-invalid"),a.removeClass("is-invalid"),n.html("")}function s(e,t){p(t),Object.keys(e.errors).forEach(function(a){var n=$(document.forms[t][a]);n.next().html(e.errors[a]),"hidden"==n.attr("type")?n.prev().addClass("form-control is-invalid"):n.addClass("is-invalid")}),e.firstError.length>0&&$(document.forms[t][e.firstError]).focus()}function c(e,t){var a=[],n=$("[id^='"+e+"-']").not("[id$='expanded-content']");n.click(function(r){n=$("[id='"+e+"-expanded-content']");var o=!1;"radio"===r.target.type?a=[r.target.value]:r.target.checked?a.push(r.target.value):a=a.filter(function(e){return e!==r.target.value});for(var i=0;i<t.length;i++)if(a.indexOf(t[i])>=0){o=!0;break}o?n.slideDown(1e3):n.slideUp(1e3)})}function u(e,t){var a={},n=$("[id^='"+e+"-']").not("[id$='expanded-content']");n.click(function(r){n=$("[id='"+e+"-expanded-content']"),a[r.target.name.replace(/\[\]/g,"")]=r.target.value,Object.keys(a).filter(function(e){return a[e]===t}).length>0?n.slideDown("slow"):n.slideUp("slow")})}function f(e,t){(e=$("#"+e)).change(function(e){var a=$("[id^='"+t+"-']:visible"),n=e.target.selectedIndex>0?Number(e.target.value):-1;if(n>0){if(n<a.length)for(var r=a.length;r>n;r--)$("#"+t+"-"+r.toString()).slideUp("slow");if(n>a.length)for(r=1;r<=n;r++)$("#"+t+"-"+r.toString()).slideDown("slow")}else a.slideUp("slow")})}$("#date").datepicker({minDate:1,beforeShowDay:function(e){return[0!==e.getDay(),""]}}),timepicker($("#time").first(),{min:9,max:18,step:60}),$("[data-inputmask]").inputmask({showMaskOnHover:!1}),$("[data-toggle='tooltip']").tooltip({boundary:"window"}),$("#rentalApp form").each(function(e,t){var a=$("#rentalApp form");$(t).attr({"data-prev":e>0?a[e-1].id:"","data-next":e<a.length-1?a[e+1].id:""}),e>0&&$(t).hide()}),$(".dashboard-link.delete").click(function(e){e.preventDefault();var t=$(e.currentTarget).attr("data-address"),a=$(e.currentTarget).attr("data-property"),n=$("#deletePropertyModal"),r=$("#deletePropertyModal .modal-body");$("#deletePropertyModal form").submit(function(e){e.preventDefault(),e.target.action="/properties/delete/"+a,n.modal("hide"),window.scrollTo(0,0),$(".loading-overlay").addClass("loading-overlay-on"),setTimeout(function(){$(".loading-overlay").removeClass("loading-overlay-on"),e.target.submit()},400)}),r.html("<p>You have chosen to delete property "+t+". Click 'Confirm' to proceed or 'Cancel' to abort.</p>"),n.modal("show")}),$(".dashboard-link-email").click(function(e){e.preventDefault();var t=$(e.currentTarget).attr("href");$(".loading-overlay").addClass("loading-overlay-on"),$.get(t).done(function(e){var t=JSON.parse(e);setTimeout(function(){$(".loading-overlay").removeClass("loading-overlay-on"),location.href=t.redirect},400)}).fail(function(){})}),$(".custom-file-input").change(function(e){var t="";e.target.files.length>0&&(t=Array.prototype.slice.call(e.target.files).map(function(e){return e.name}).join("<br>")),$(e.target).parent().children().last().html(t)}),$("#property").submit(function(e){e.preventDefault(),l(e.target.action,d("#property",!0),e.target.id)}),$("#login").submit(function(e){e.preventDefault(),l(e.target.action,d("#login",!0),e.target.id)}),$("#schedule").submit(function(e){e.preventDefault(),l(e.target.action,d("#schedule",!0),e.target.id)}),$("#scheduleModal").on("hidden.bs.modal",function(){$("#schedule :input").val(""),p($("#schedule").attr("id"))}),$("#rentalApp .btn-back").click(function(e){$("#rentalApp form").hide();var t=$(e.target).closest("form").attr("data-prev");$("#"+t).fadeIn(1e3),window.scrollTo(0,0)}),$("#rentalApp form").submit(function(e){e.preventDefault(),window.scrollTo(0,0),$(".loading-overlay").addClass("loading-overlay-on"),$.post(e.target.action,$(e.target).serialize()).done(function(t){setTimeout(function(){$(".loading-overlay").removeClass("loading-overlay-on");var a,n=JSON.parse(t);n.succeeded?(p(e.target.id),"yes"==n.coapp?($("#infoCoapp").attr("data-next","empCurrCoapp"),$("#dependents").attr("data-prev","creditCoapp"),$("#additional-signatureCoapp").show()):($("#infoCoapp").attr("data-next","dependents"),$("#dependents").attr("data-prev","infoCoapp"),$("#additional-signatureCoapp").hide()),0==(a=$("#"+e.target.id).attr("data-next")).length?l("/applicants/complete",d("#rentalApp form",!1),e.target.id):($("#rentalApp form").hide(),$("#"+a).fadeIn(1e3),document.forms[a].hdnCoapp.value=n.coapp)):s(n,e.target.id)},400)}).fail(function(e){$(".loading-overlay").removeClass("loading-overlay-on")})}),$("#termsAgree").click(function(){$("#additional-terms").prop("checked",!0)}),c("empCurrApp",["full time","part time"]),c("empPrevApp-employment",["yes"]),u("creditApp","yes"),c("infoCoapp",["yes"]),c("empCurrCoapp",["full time","part time"]),c("empPrevCoapp-employment",["yes"]),u("creditCoapp","yes"),f("numDependents","dependents"),f("numVehicles","vehicles"),c("prevRes-residence",["yes"])});try{lightbox.option({wrapAround:!0})}catch(e){}